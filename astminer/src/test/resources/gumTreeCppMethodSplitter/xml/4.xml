<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:cpp="http://www.srcML.org/srcML/cpp" revision="1.0.0" language="C++"
      filename="4.hpp">
    <cpp:pragma>#<cpp:directive>pragma</cpp:directive>
        <name>once</name>
    </cpp:pragma>

    <cpp:include>#<cpp:directive>include</cpp:directive>
        <cpp:file>&lt;iostream&gt;</cpp:file>
    </cpp:include>

    <namespace>namespace <name>ts</name>
        <block>{
            <using>using
                <namespace>namespace <name>details</name>;
                </namespace>
            </using>

            <using>
                <template>template
                    <parameter_list>&lt;<parameter>
                        <type>
                            <name>int</name>
                        </type>
                        <name>m</name>
                        <init>=
                            <expr>
                                <literal type="number">0</literal>
                            </expr>
                        </init>
                    </parameter>
                        ,
                        <parameter>
                            <type>
                                <name>int</name>
                            </type>
                            <name>s</name>
                            <init>=
                                <expr>
                                    <literal type="number">0</literal>
                                </expr>
                            </init>
                        </parameter>
                        ,
                        <parameter>
                            <type>
                                <name>int</name>
                            </type>
                            <name>g</name>
                            <init>=
                                <expr>
                                    <literal type="number">0</literal>
                                </expr>
                            </init>
                        </parameter>&gt;
                    </parameter_list>
                </template>
                using <name>dimension</name>
                <init>=
                    <type>
                        <name>
                            <name>int_list</name>
                            <argument_list type="generic">&lt;<argument>
                                <expr>
                                    <name>m</name>
                                </expr>
                            </argument>
                                ,
                                <argument>
                                    <expr>
                                        <name>s</name>
                                    </expr>
                                </argument>
                                ,
                                <argument>
                                    <expr>
                                        <name>g</name>
                                    </expr>
                                </argument>&gt;
                            </argument_list>
                        </name>
                    </type>
                </init>
                ;
            </using>

            <function>
                <template>template
                    <parameter_list>&lt;<parameter>
                        <type>
                            <name>typename</name>
                        </type>
                        <name>M</name>
                    </parameter>&gt;
                    </parameter_list>
                </template>
                <type>
                    <name>long</name>
                    <name>double</name>
                </type>
                <name>get_value</name>
                <parameter_list>(
                    <parameter>
                        <decl>
                            <type>
                                <specifier>const</specifier>
                                <name>M</name>
                                <modifier>&amp;</modifier>
                            </type>
                            <name>metric</name>
                        </decl>
                    </parameter>
                    )
                </parameter_list>
                <block>{
                    <block_content>
                        <return>return
                            <expr>
                                <call>
                                    <name>
                                        <name>metric</name>
                                        <operator>.</operator>
                                        <name>inner_get_value</name>
                                    </name>
                                    <argument_list>()</argument_list>
                                </call>
                            </expr>
                            ;
                        </return>
                    </block_content>
                    }
                </block>
            </function>

            <comment type="line">// quantity
                -----------------------------------------------------------------------------------
            </comment>
            <struct_decl>
                <template>template
                    <parameter_list>&lt;<parameter>
                        <type>
                            <name>typename</name>
                        </type>
                        <name>D</name>
                    </parameter>&gt;
                    </parameter_list>
                </template>
                struct <name>quantity</name>;
            </struct_decl>

            <struct>
                <template>template
                    <parameter_list>&lt;<parameter>
                        <type>
                            <name>int</name>
                            <modifier>...</modifier>
                        </type>
                        <name>XS</name>
                    </parameter>&gt;
                    </parameter_list>
                </template>
                struct
                <name>
                    <name>quantity</name>
                    <argument_list type="generic">&lt;<argument>
                        <expr>
                            <name>
                                <name>int_list</name>
                                <argument_list type="generic">&lt;<argument>
                                    <expr>
                                        <name>XS</name>
                                        <modifier>...</modifier>
                                    </expr>
                                </argument>&gt;
                                </argument_list>
                            </name>
                        </expr>
                    </argument>&gt;
                    </argument_list>
                </name>
                <block>{
                    <public type="default">
                        <decl_stmt>
                            <decl>
                                <type>
                                    <specifier>static</specifier>
                                    <specifier>constexpr</specifier>
                                    <name>double</name>
                                </type>
                                <name>type_constant</name>
                                <init>=
                                    <expr>
                                        <literal type="number">1</literal>
                                    </expr>
                                </init>
                            </decl>
                            ;
                        </decl_stmt>

                        <using>using <name>list_type</name>
                            <init>=
                                <type>
                                    <name>
                                        <name>int_list</name>
                                        <argument_list type="generic">&lt;<argument>
                                            <expr>
                                                <name>XS</name>
                                                <modifier>...</modifier>
                                            </expr>
                                        </argument>&gt;
                                        </argument_list>
                                    </name>
                                </type>
                            </init>
                            ;
                        </using>

                        <template>template
                            <parameter_list>&lt;<parameter>
                                <type>
                                    <name>typename</name>
                                </type>
                                <name>Q</name>
                            </parameter>&gt;
                            </parameter_list>
                            <friend>friend
                                <function_decl>
                                    <type>
                                        <name>long</name>
                                        <name>double</name>
                                    </type>
                                    <name>get_value</name>
                                    <parameter_list>(
                                        <parameter>
                                            <decl>
                                                <type>
                                                    <specifier>const</specifier>
                                                    <name>Q</name>
                                                    <modifier>&amp;</modifier>
                                                </type>
                                                <name>q</name>
                                            </decl>
                                        </parameter>
                                        )
                                    </parameter_list>
                                    ;
                                </function_decl>
                            </friend>
                        </template>

                        <constructor_decl>
                            <name>quantity</name>
                            <parameter_list>()</parameter_list>
                            = <specifier>default</specifier>;
                        </constructor_decl>
                        <constructor>
                            <specifier>explicit</specifier>
                            <name>quantity</name>
                            <parameter_list>(
                                <parameter>
                                    <decl>
                                        <type>
                                            <name>long</name>
                                            <name>double</name>
                                        </type>
                                        <name>value</name>
                                    </decl>
                                </parameter>
                                )
                            </parameter_list>
                            <member_init_list>:
                                <call>
                                    <name>value</name>
                                    <argument_list>(
                                        <argument>
                                            <expr>
                                                <name>value</name>
                                            </expr>
                                        </argument>
                                        )
                                    </argument_list>
                                </call>
                            </member_init_list>
                            <block>{<block_content/>}
                            </block>
                        </constructor>
                        <constructor>
                            <name>quantity</name>
                            <parameter_list>(
                                <parameter>
                                    <decl>
                                        <type>
                                            <specifier>const</specifier>
                                            <name>quantity</name>
                                            <modifier>&amp;</modifier>
                                        </type>
                                        <name>other</name>
                                    </decl>
                                </parameter>
                                )
                            </parameter_list>
                            <member_init_list>:
                                <call>
                                    <name>value</name>
                                    <argument_list>(
                                        <argument>
                                            <expr>
                                                <name>
                                                    <name>other</name>
                                                    <operator>.</operator>
                                                    <name>value</name>
                                                </name>
                                            </expr>
                                        </argument>
                                        )
                                    </argument_list>
                                </call>
                            </member_init_list>
                            <block>{<block_content/>}
                            </block>
                        </constructor>
                        <constructor_decl>
                            <name>quantity</name>
                            <parameter_list>(
                                <parameter>
                                    <decl>
                                        <type>
                                            <name>quantity</name>
                                            <modifier>&amp;&amp;</modifier>
                                        </type>
                                        <name>other</name>
                                    </decl>
                                </parameter>
                                )
                            </parameter_list>
                            <noexcept>noexcept</noexcept> = <specifier>default</specifier>;
                        </constructor_decl>

                        <function type="operator">
                            <type>
                                <name>quantity</name>
                                <modifier>&amp;</modifier>
                            </type>
                            <name>operator
                                <name>=</name>
                            </name>
                            <parameter_list>(
                                <parameter>
                                    <decl>
                                        <type>
                                            <name>long</name>
                                            <name>double</name>
                                        </type>
                                        <name>other_value</name>
                                    </decl>
                                </parameter>
                                )
                            </parameter_list>
                            <block>{
                                <block_content>
                                    <expr_stmt>
                                        <expr>
                                            <name>value</name>
                                            <operator>=</operator>
                                            <name>other_value</name>
                                        </expr>
                                        ;
                                    </expr_stmt>
                                    <return>return
                                        <expr>
                                            <operator>*</operator>
                                            <name>this</name>
                                        </expr>
                                        ;
                                    </return>
                                </block_content>
                                }
                            </block>
                        </function>
                        <function type="operator">
                            <type>
                                <name>quantity</name>
                                <modifier>&amp;</modifier>
                            </type>
                            <name>operator
                                <name>=</name>
                            </name>
                            <parameter_list>(
                                <parameter>
                                    <decl>
                                        <type>
                                            <specifier>const</specifier>
                                            <name>quantity</name>
                                            <modifier>&amp;</modifier>
                                        </type>
                                        <name>other</name>
                                    </decl>
                                </parameter>
                                )
                            </parameter_list>
                            <block>{
                                <block_content>
                                    <if_stmt>
                                        <if>if
                                            <condition>(
                                                <expr>
                                                    <operator>&amp;</operator>
                                                    <name>other</name>
                                                    <operator>!=</operator>
                                                    <name>this</name>
                                                </expr>
                                                )
                                            </condition>
                                            <block>{
                                                <block_content>
                                                    <expr_stmt>
                                                        <expr>
                                                            <name>value</name>
                                                            <operator>=</operator>
                                                            <name>
                                                                <name>other</name>
                                                                <operator>.</operator>
                                                                <name>value</name>
                                                            </name>
                                                        </expr>
                                                        ;
                                                    </expr_stmt>
                                                </block_content>
                                                }
                                            </block>
                                        </if>
                                    </if_stmt>
                                    <return>return
                                        <expr>
                                            <operator>*</operator>
                                            <name>this</name>
                                        </expr>
                                        ;
                                    </return>
                                </block_content>
                                }
                            </block>
                        </function>
                        <function type="operator">
                            <type>
                                <name>quantity</name>
                                <modifier>&amp;</modifier>
                            </type>
                            <name>operator
                                <name>=</name>
                            </name>
                            <parameter_list>(
                                <parameter>
                                    <decl>
                                        <type>
                                            <name>quantity</name>
                                            <modifier>&amp;&amp;</modifier>
                                        </type>
                                        <name>other</name>
                                    </decl>
                                </parameter>
                                )
                            </parameter_list>
                            <noexcept>noexcept</noexcept>
                            <block>{
                                <block_content>
                                    <if_stmt>
                                        <if>if
                                            <condition>(
                                                <expr>
                                                    <operator>&amp;</operator>
                                                    <name>other</name>
                                                    <operator>!=</operator>
                                                    <name>this</name>
                                                </expr>
                                                )
                                            </condition>
                                            <block>{
                                                <block_content>
                                                    <expr_stmt>
                                                        <expr>
                                                            <name>value</name>
                                                            <operator>=</operator>
                                                            <name>
                                                                <name>other</name>
                                                                <operator>.</operator>
                                                                <name>value</name>
                                                            </name>
                                                        </expr>
                                                        ;
                                                    </expr_stmt>
                                                </block_content>
                                                }
                                            </block>
                                        </if>
                                    </if_stmt>
                                    <return>return
                                        <expr>
                                            <operator>*</operator>
                                            <name>this</name>
                                        </expr>
                                        ;
                                    </return>
                                </block_content>
                                }
                            </block>
                        </function>
                        <comment type="line">// arithmetic</comment>
                        <function type="operator">
                            <type>
                                <name>quantity</name>
                                <modifier>&amp;</modifier>
                            </type>
                            <name>operator
                                <name>+=</name>
                            </name>
                            <parameter_list>(
                                <parameter>
                                    <decl>
                                        <type>
                                            <specifier>const</specifier>
                                            <name>quantity</name>
                                            <modifier>&amp;</modifier>
                                        </type>
                                        <name>other</name>
                                    </decl>
                                </parameter>
                                )
                            </parameter_list>
                            <block>{
                                <block_content>
                                    <expr_stmt>
                                        <expr>
                                            <name>value</name>
                                            <operator>+=</operator>
                                            <name>
                                                <name>other</name>
                                                <operator>.</operator>
                                                <name>value</name>
                                            </name>
                                        </expr>
                                        ;
                                    </expr_stmt>
                                    <return>return
                                        <expr>
                                            <operator>*</operator>
                                            <name>this</name>
                                        </expr>
                                        ;
                                    </return>
                                </block_content>
                                }
                            </block>
                        </function>
                        <function type="operator">
                            <type>
                                <name>quantity</name>
                                <modifier>&amp;</modifier>
                            </type>
                            <name>operator
                                <name>-=</name>
                            </name>
                            <parameter_list>(
                                <parameter>
                                    <decl>
                                        <type>
                                            <specifier>const</specifier>
                                            <name>quantity</name>
                                            <modifier>&amp;</modifier>
                                        </type>
                                        <name>other</name>
                                    </decl>
                                </parameter>
                                )
                            </parameter_list>
                            <block>{
                                <block_content>
                                    <expr_stmt>
                                        <expr>
                                            <name>value</name>
                                            <operator>-=</operator>
                                            <name>
                                                <name>other</name>
                                                <operator>.</operator>
                                                <name>value</name>
                                            </name>
                                        </expr>
                                        ;
                                    </expr_stmt>
                                    <return>return
                                        <expr>
                                            <operator>*</operator>
                                            <name>this</name>
                                        </expr>
                                        ;
                                    </return>
                                </block_content>
                                }
                            </block>
                        </function>
                        <function type="operator">
                            <type>
                                <name>quantity</name>
                                <modifier>&amp;</modifier>
                            </type>
                            <name>operator
                                <name>*=</name>
                            </name>
                            <parameter_list>(
                                <parameter>
                                    <decl>
                                        <type>
                                            <specifier>const</specifier>
                                            <name>quantity</name>
                                            <modifier>&amp;</modifier>
                                        </type>
                                        <name>other</name>
                                    </decl>
                                </parameter>
                                )
                            </parameter_list>
                            <block>{
                                <block_content>
                                    <expr_stmt>
                                        <expr>
                                            <name>value</name>
                                            <operator>*=</operator>
                                            <name>
                                                <name>other</name>
                                                <operator>.</operator>
                                                <name>value</name>
                                            </name>
                                        </expr>
                                        ;
                                    </expr_stmt>
                                    <return>return
                                        <expr>
                                            <operator>*</operator>
                                            <name>this</name>
                                        </expr>
                                        ;
                                    </return>
                                </block_content>
                                }
                            </block>
                        </function>
                        <function type="operator">
                            <type>
                                <name>quantity</name>
                                <modifier>&amp;</modifier>
                            </type>
                            <name>operator
                                <name>/=</name>
                            </name>
                            <parameter_list>(
                                <parameter>
                                    <decl>
                                        <type>
                                            <specifier>const</specifier>
                                            <name>quantity</name>
                                            <modifier>&amp;</modifier>
                                        </type>
                                        <name>other</name>
                                    </decl>
                                </parameter>
                                )
                            </parameter_list>
                            <block>{
                                <block_content>
                                    <expr_stmt>
                                        <expr>
                                            <name>value</name>
                                            <operator>/=</operator>
                                            <name>
                                                <name>other</name>
                                                <operator>.</operator>
                                                <name>value</name>
                                            </name>
                                        </expr>
                                        ;
                                    </expr_stmt>
                                    <return>return
                                        <expr>
                                            <operator>*</operator>
                                            <name>this</name>
                                        </expr>
                                        ;
                                    </return>
                                </block_content>
                                }
                            </block>
                        </function>
                        <function type="operator">
                            <template>template
                                <parameter_list>&lt;<parameter>
                                    <type>
                                        <name>typename</name>
                                    </type>
                                    <name>T</name>
                                </parameter>
                                    ,
                                    <parameter>
                                        <type>
                                            <name>typename</name>
                                        </type>
                                        <init>=
                                            <expr>
                                                <name>
                                                    <name>std</name>
                                                    <operator>::</operator>
                                                    <name>enable_if_t</name>
                                                    <argument_list type="generic">&lt;<argument>
                                                        <expr>
                                                            <name>
                                                                <name>std</name>
                                                                <operator>::</operator>
                                                                <name>is_arithmetic_v</name>
                                                                <argument_list type="generic">&lt;<argument>
                                                                    <expr>
                                                                        <name>T</name>
                                                                    </expr>
                                                                </argument>&gt;
                                                                </argument_list>
                                                            </name>
                                                        </expr>
                                                    </argument>
                                                        ,
                                                        <argument>
                                                            <expr>
                                                                <name>void</name>
                                                            </expr>
                                                        </argument>&gt;
                                                    </argument_list>
                                                </name>
                                            </expr>
                                        </init>
                                    </parameter>&gt;
                                </parameter_list>
                            </template>
                            <type>
                                <name>quantity</name>
                                <modifier>&amp;</modifier>
                            </type>
                            <name>operator
                                <name>*=</name>
                            </name>
                            <parameter_list>(
                                <parameter>
                                    <decl>
                                        <type>
                                            <name>T</name>
                                        </type>
                                        <name>other_value</name>
                                    </decl>
                                </parameter>
                                )
                            </parameter_list>
                            <block>{
                                <block_content>
                                    <expr_stmt>
                                        <expr>
                                            <name>value</name>
                                            <operator>*=</operator>
                                            <name>other_value</name>
                                        </expr>
                                        ;
                                    </expr_stmt>
                                    <return>return
                                        <expr>
                                            <operator>*</operator>
                                            <name>this</name>
                                        </expr>
                                        ;
                                    </return>
                                </block_content>
                                }
                            </block>
                        </function>
                        <function type="operator">
                            <template>template
                                <parameter_list>&lt;<parameter>
                                    <type>
                                        <name>typename</name>
                                    </type>
                                    <name>T</name>
                                </parameter>
                                    ,
                                    <parameter>
                                        <type>
                                            <name>typename</name>
                                        </type>
                                        <init>=
                                            <expr>
                                                <name>
                                                    <name>std</name>
                                                    <operator>::</operator>
                                                    <name>enable_if_t</name>
                                                    <argument_list type="generic">&lt;<argument>
                                                        <expr>
                                                            <name>
                                                                <name>std</name>
                                                                <operator>::</operator>
                                                                <name>is_arithmetic_v</name>
                                                                <argument_list type="generic">&lt;<argument>
                                                                    <expr>
                                                                        <name>T</name>
                                                                    </expr>
                                                                </argument>&gt;
                                                                </argument_list>
                                                            </name>
                                                        </expr>
                                                    </argument>
                                                        ,
                                                        <argument>
                                                            <expr>
                                                                <name>void</name>
                                                            </expr>
                                                        </argument>&gt;
                                                    </argument_list>
                                                </name>
                                            </expr>
                                        </init>
                                    </parameter>&gt;
                                </parameter_list>
                            </template>
                            <type>
                                <name>quantity</name>
                                <modifier>&amp;</modifier>
                            </type>
                            <name>operator
                                <name>/=</name>
                            </name>
                            <parameter_list>(
                                <parameter>
                                    <decl>
                                        <type>
                                            <name>T</name>
                                        </type>
                                        <name>other_value</name>
                                    </decl>
                                </parameter>
                                )
                            </parameter_list>
                            <block>{
                                <block_content>
                                    <expr_stmt>
                                        <expr>
                                            <name>value</name>
                                            <operator>/=</operator>
                                            <name>other_value</name>
                                        </expr>
                                        ;
                                    </expr_stmt>
                                    <return>return
                                        <expr>
                                            <operator>*</operator>
                                            <name>this</name>
                                        </expr>
                                        ;
                                    </return>
                                </block_content>
                                }
                            </block>
                        </function>
                        <function type="operator">
                            <type>
                                <name>quantity</name>
                                <modifier>&amp;</modifier>
                            </type>
                            <name>operator
                                <name>-</name>
                            </name>
                            <parameter_list>()</parameter_list>
                            <block>{
                                <block_content>
                                    <expr_stmt>
                                        <expr>
                                            <name>value</name>
                                            <operator>*=</operator>
                                            <operator>-</operator>
                                            <literal type="number">1</literal>
                                        </expr>
                                        ;
                                    </expr_stmt>
                                    <return>return
                                        <expr>
                                            <operator>*</operator>
                                            <name>this</name>
                                        </expr>
                                        ;
                                    </return>
                                </block_content>
                                }
                            </block>
                        </function>
                        <comment type="line">// booleans</comment>
                        <template>template
                            <parameter_list>&lt;<parameter>
                                <type>
                                    <name>typename</name>
                                </type>
                                <name>D</name>
                            </parameter>&gt;
                            </parameter_list>
                            <friend>friend
                                <function_decl type="operator">
                                    <type>
                                        <name>bool</name>
                                    </type>
                                    <name>operator
                                        <name>==</name>
                                    </name>
                                    <parameter_list>(
                                        <parameter>
                                            <decl>
                                                <type>
                                                    <specifier>const</specifier>
                                                    <name>
                                                        <name>quantity</name>
                                                        <argument_list type="generic">&lt;<argument>
                                                            <expr>
                                                                <name>D</name>
                                                            </expr>
                                                        </argument>&gt;
                                                        </argument_list>
                                                    </name>
                                                    <modifier>&amp;</modifier>
                                                </type>
                                                <name>lhs</name>
                                            </decl>
                                        </parameter>
                                        ,
                                        <parameter>
                                            <decl>
                                                <type>
                                                    <specifier>const</specifier>
                                                    <name>
                                                        <name>quantity</name>
                                                        <argument_list type="generic">&lt;<argument>
                                                            <expr>
                                                                <name>D</name>
                                                            </expr>
                                                        </argument>&gt;
                                                        </argument_list>
                                                    </name>
                                                    <modifier>&amp;</modifier>
                                                </type>
                                                <name>rhs</name>
                                            </decl>
                                        </parameter>
                                        )
                                    </parameter_list>
                                    ;
                                </function_decl>
                            </friend>
                        </template>
                        <template>template
                            <parameter_list>&lt;<parameter>
                                <type>
                                    <name>typename</name>
                                </type>
                                <name>D</name>
                            </parameter>&gt;
                            </parameter_list>
                            <friend>friend
                                <function_decl type="operator">
                                    <type>
                                        <name>bool</name>
                                    </type>
                                    <name>operator
                                        <name>!=</name>
                                    </name>
                                    <parameter_list>(
                                        <parameter>
                                            <decl>
                                                <type>
                                                    <specifier>const</specifier>
                                                    <name>
                                                        <name>quantity</name>
                                                        <argument_list type="generic">&lt;<argument>
                                                            <expr>
                                                                <name>D</name>
                                                            </expr>
                                                        </argument>&gt;
                                                        </argument_list>
                                                    </name>
                                                    <modifier>&amp;</modifier>
                                                </type>
                                                <name>lhs</name>
                                            </decl>
                                        </parameter>
                                        ,
                                        <parameter>
                                            <decl>
                                                <type>
                                                    <specifier>const</specifier>
                                                    <name>
                                                        <name>quantity</name>
                                                        <argument_list type="generic">&lt;<argument>
                                                            <expr>
                                                                <name>D</name>
                                                            </expr>
                                                        </argument>&gt;
                                                        </argument_list>
                                                    </name>
                                                    <modifier>&amp;</modifier>
                                                </type>
                                                <name>rhs</name>
                                            </decl>
                                        </parameter>
                                        )
                                    </parameter_list>
                                    ;
                                </function_decl>
                            </friend>
                        </template>
                        <template>template
                            <parameter_list>&lt;<parameter>
                                <type>
                                    <name>typename</name>
                                </type>
                                <name>D</name>
                            </parameter>&gt;
                            </parameter_list>
                            <friend>friend
                                <function_decl type="operator">
                                    <type>
                                        <name>bool</name>
                                    </type>
                                    <name>operator
                                        <name>&lt;=</name>
                                    </name>
                                    <parameter_list>(
                                        <parameter>
                                            <decl>
                                                <type>
                                                    <specifier>const</specifier>
                                                    <name>
                                                        <name>quantity</name>
                                                        <argument_list type="generic">&lt;<argument>
                                                            <expr>
                                                                <name>D</name>
                                                            </expr>
                                                        </argument>&gt;
                                                        </argument_list>
                                                    </name>
                                                    <modifier>&amp;</modifier>
                                                </type>
                                                <name>lhs</name>
                                            </decl>
                                        </parameter>
                                        ,
                                        <parameter>
                                            <decl>
                                                <type>
                                                    <specifier>const</specifier>
                                                    <name>
                                                        <name>quantity</name>
                                                        <argument_list type="generic">&lt;<argument>
                                                            <expr>
                                                                <name>D</name>
                                                            </expr>
                                                        </argument>&gt;
                                                        </argument_list>
                                                    </name>
                                                    <modifier>&amp;</modifier>
                                                </type>
                                                <name>rhs</name>
                                            </decl>
                                        </parameter>
                                        )
                                    </parameter_list>
                                    ;
                                </function_decl>
                            </friend>
                        </template>
                        <template>template
                            <parameter_list>&lt;<parameter>
                                <type>
                                    <name>typename</name>
                                </type>
                                <name>D</name>
                            </parameter>&gt;
                            </parameter_list>
                            <friend>friend
                                <function_decl type="operator">
                                    <type>
                                        <name>bool</name>
                                    </type>
                                    <name>operator
                                        <name>&lt;</name>
                                    </name>
                                    <parameter_list>(
                                        <parameter>
                                            <decl>
                                                <type>
                                                    <specifier>const</specifier>
                                                    <name>
                                                        <name>quantity</name>
                                                        <argument_list type="generic">&lt;<argument>
                                                            <expr>
                                                                <name>D</name>
                                                            </expr>
                                                        </argument>&gt;
                                                        </argument_list>
                                                    </name>
                                                    <modifier>&amp;</modifier>
                                                </type>
                                                <name>lhs</name>
                                            </decl>
                                        </parameter>
                                        ,
                                        <parameter>
                                            <decl>
                                                <type>
                                                    <specifier>const</specifier>
                                                    <name>
                                                        <name>quantity</name>
                                                        <argument_list type="generic">&lt;<argument>
                                                            <expr>
                                                                <name>D</name>
                                                            </expr>
                                                        </argument>&gt;
                                                        </argument_list>
                                                    </name>
                                                    <modifier>&amp;</modifier>
                                                </type>
                                                <name>rhs</name>
                                            </decl>
                                        </parameter>
                                        )
                                    </parameter_list>
                                    ;
                                </function_decl>
                            </friend>
                        </template>
                        <template>template
                            <parameter_list>&lt;<parameter>
                                <type>
                                    <name>typename</name>
                                </type>
                                <name>D</name>
                            </parameter>&gt;
                            </parameter_list>
                            <friend>friend
                                <function_decl type="operator">
                                    <type>
                                        <name>bool</name>
                                    </type>
                                    <name>operator
                                        <name>&gt;</name>
                                    </name>
                                    <parameter_list>(
                                        <parameter>
                                            <decl>
                                                <type>
                                                    <specifier>const</specifier>
                                                    <name>
                                                        <name>quantity</name>
                                                        <argument_list type="generic">&lt;<argument>
                                                            <expr>
                                                                <name>D</name>
                                                            </expr>
                                                        </argument>&gt;
                                                        </argument_list>
                                                    </name>
                                                    <modifier>&amp;</modifier>
                                                </type>
                                                <name>lhs</name>
                                            </decl>
                                        </parameter>
                                        ,
                                        <parameter>
                                            <decl>
                                                <type>
                                                    <specifier>const</specifier>
                                                    <name>
                                                        <name>quantity</name>
                                                        <argument_list type="generic">&lt;<argument>
                                                            <expr>
                                                                <name>D</name>
                                                            </expr>
                                                        </argument>&gt;
                                                        </argument_list>
                                                    </name>
                                                    <modifier>&amp;</modifier>
                                                </type>
                                                <name>rhs</name>
                                            </decl>
                                        </parameter>
                                        )
                                    </parameter_list>
                                    ;
                                </function_decl>
                            </friend>
                        </template>
                        <template>template
                            <parameter_list>&lt;<parameter>
                                <type>
                                    <name>typename</name>
                                </type>
                                <name>D</name>
                            </parameter>&gt;
                            </parameter_list>
                            <friend>friend
                                <function_decl type="operator">
                                    <type>
                                        <name>bool</name>
                                    </type>
                                    <name>operator
                                        <name>&gt;=</name>
                                    </name>
                                    <parameter_list>(
                                        <parameter>
                                            <decl>
                                                <type>
                                                    <specifier>const</specifier>
                                                    <name>
                                                        <name>quantity</name>
                                                        <argument_list type="generic">&lt;<argument>
                                                            <expr>
                                                                <name>D</name>
                                                            </expr>
                                                        </argument>&gt;
                                                        </argument_list>
                                                    </name>
                                                    <modifier>&amp;</modifier>
                                                </type>
                                                <name>lhs</name>
                                            </decl>
                                        </parameter>
                                        ,
                                        <parameter>
                                            <decl>
                                                <type>
                                                    <specifier>const</specifier>
                                                    <name>
                                                        <name>quantity</name>
                                                        <argument_list type="generic">&lt;<argument>
                                                            <expr>
                                                                <name>D</name>
                                                            </expr>
                                                        </argument>&gt;
                                                        </argument_list>
                                                    </name>
                                                    <modifier>&amp;</modifier>
                                                </type>
                                                <name>rhs</name>
                                            </decl>
                                        </parameter>
                                        )
                                    </parameter_list>
                                    ;
                                </function_decl>
                            </friend>
                        </template>
                    </public>
                    <protected>protected:
                        <function>
                            <type>
                                <name>long</name>
                                <name>double</name>
                            </type>
                            <name>inner_get_value</name>
                            <parameter_list>()</parameter_list>
                            <specifier>const</specifier>
                            <block>{
                                <block_content>
                                    <return>return
                                        <expr>
                                            <name>value</name>
                                        </expr>
                                        ;
                                    </return>
                                </block_content>
                                }
                            </block>
                        </function>

                        <decl_stmt>
                            <decl>
                                <type>
                                    <name>long</name>
                                    <name>double</name>
                                </type>
                                <name>value</name>
                                <init>=
                                    <expr>
                                        <literal type="number">0</literal>
                                    </expr>
                                </init>
                            </decl>
                            ;
                        </decl_stmt>
                    </protected>
                    }
                </block>
                ;
            </struct>
            <comment type="line">// quantity</comment>

            <comment type="line">// quantity aliases
                ---------------------------------------------------------------------------
            </comment>
            <using>using <name>meter_t</name>
                <init>=
                    <type>
                        <name>
                            <name>quantity</name>
                            <argument_list type="generic">&lt;<argument>
                                <expr>
                                    <name>
                                        <name>dimension</name>
                                        <argument_list type="generic">&lt;<argument>
                                            <expr>
                                                <literal type="number">1</literal>
                                            </expr>
                                        </argument>
                                            ,
                                            <argument>
                                                <expr>
                                                    <literal type="number">0</literal>
                                                </expr>
                                            </argument>
                                            ,
                                            <argument>
                                                <expr>
                                                    <literal type="number">0</literal>
                                                </expr>
                                            </argument>&gt;
                                        </argument_list>
                                    </name>
                                </expr>
                            </argument>&gt;
                            </argument_list>
                        </name>
                    </type>
                </init>
                ;
            </using>
            <using>using <name>second_t</name>
                <init>=
                    <type>
                        <name>
                            <name>quantity</name>
                            <argument_list type="generic">&lt;<argument>
                                <expr>
                                    <name>
                                        <name>dimension</name>
                                        <argument_list type="generic">&lt;<argument>
                                            <expr>
                                                <literal type="number">0</literal>
                                            </expr>
                                        </argument>
                                            ,
                                            <argument>
                                                <expr>
                                                    <literal type="number">1</literal>
                                                </expr>
                                            </argument>
                                            ,
                                            <argument>
                                                <expr>
                                                    <literal type="number">0</literal>
                                                </expr>
                                            </argument>&gt;
                                        </argument_list>
                                    </name>
                                </expr>
                            </argument>&gt;
                            </argument_list>
                        </name>
                    </type>
                </init>
                ;
            </using>
            <using>using <name>gram_t</name>
                <init>=
                    <type>
                        <name>
                            <name>quantity</name>
                            <argument_list type="generic">&lt;<argument>
                                <expr>
                                    <name>
                                        <name>dimension</name>
                                        <argument_list type="generic">&lt;<argument>
                                            <expr>
                                                <literal type="number">0</literal>
                                            </expr>
                                        </argument>
                                            ,
                                            <argument>
                                                <expr>
                                                    <literal type="number">0</literal>
                                                </expr>
                                            </argument>
                                            ,
                                            <argument>
                                                <expr>
                                                    <literal type="number">1</literal>
                                                </expr>
                                            </argument>&gt;
                                        </argument_list>
                                    </name>
                                </expr>
                            </argument>&gt;
                            </argument_list>
                        </name>
                    </type>
                </init>
                ;
            </using>

            <comment type="line">// operators quantity
                -------------------------------------------------------------------------
            </comment>
            <function type="operator">
                <template>template
                    <parameter_list>&lt;<parameter>
                        <type>
                            <name>typename</name>
                        </type>
                        <name>D</name>
                    </parameter>&gt;
                    </parameter_list>
                </template>
                <type>
                    <name>
                        <name>quantity</name>
                        <argument_list type="generic">&lt;<argument>
                            <expr>
                                <name>D</name>
                            </expr>
                        </argument>&gt;
                        </argument_list>
                    </name>
                </type>
                <name>operator
                    <name>+</name>
                </name>
                <parameter_list>(
                    <parameter>
                        <decl>
                            <type>
                                <name>
                                    <name>quantity</name>
                                    <argument_list type="generic">&lt;<argument>
                                        <expr>
                                            <name>D</name>
                                        </expr>
                                    </argument>&gt;
                                    </argument_list>
                                </name>
                            </type>
                            <name>lhs</name>
                        </decl>
                    </parameter>
                    ,
                    <parameter>
                        <decl>
                            <type>
                                <specifier>const</specifier>
                                <name>
                                    <name>quantity</name>
                                    <argument_list type="generic">&lt;<argument>
                                        <expr>
                                            <name>D</name>
                                        </expr>
                                    </argument>&gt;
                                    </argument_list>
                                </name>
                                <modifier>&amp;</modifier>
                            </type>
                            <name>rhs</name>
                        </decl>
                    </parameter>
                    )
                </parameter_list>
                <block>{
                    <block_content>
                        <expr_stmt>
                            <expr>
                                <name>lhs</name>
                                <operator>+=</operator>
                                <name>rhs</name>
                            </expr>
                            ;
                        </expr_stmt>
                        <return>return
                            <expr>
                                <name>lhs</name>
                            </expr>
                            ;
                        </return>
                    </block_content>
                    }
                </block>
            </function>

            <function type="operator">
                <template>template
                    <parameter_list>&lt;<parameter>
                        <type>
                            <name>typename</name>
                        </type>
                        <name>D</name>
                    </parameter>&gt;
                    </parameter_list>
                </template>
                <type>
                    <name>
                        <name>quantity</name>
                        <argument_list type="generic">&lt;<argument>
                            <expr>
                                <name>D</name>
                            </expr>
                        </argument>&gt;
                        </argument_list>
                    </name>
                </type>
                <name>operator
                    <name>-</name>
                </name>
                <parameter_list>(
                    <parameter>
                        <decl>
                            <type>
                                <name>
                                    <name>quantity</name>
                                    <argument_list type="generic">&lt;<argument>
                                        <expr>
                                            <name>D</name>
                                        </expr>
                                    </argument>&gt;
                                    </argument_list>
                                </name>
                            </type>
                            <name>lhs</name>
                        </decl>
                    </parameter>
                    ,
                    <parameter>
                        <decl>
                            <type>
                                <specifier>const</specifier>
                                <name>
                                    <name>quantity</name>
                                    <argument_list type="generic">&lt;<argument>
                                        <expr>
                                            <name>D</name>
                                        </expr>
                                    </argument>&gt;
                                    </argument_list>
                                </name>
                                <modifier>&amp;</modifier>
                            </type>
                            <name>rhs</name>
                        </decl>
                    </parameter>
                    )
                </parameter_list>
                <block>{
                    <block_content>
                        <expr_stmt>
                            <expr>
                                <name>lhs</name>
                                <operator>-=</operator>
                                <name>rhs</name>
                            </expr>
                            ;
                        </expr_stmt>
                        <return>return
                            <expr>
                                <name>lhs</name>
                            </expr>
                            ;
                        </return>
                    </block_content>
                    }
                </block>
            </function>

            <comment type="line">// quantity + integral types
                ------------------------------------------------------------------
            </comment>
            <function type="operator">
                <template>template
                    <parameter_list>&lt;<parameter>
                        <type>
                            <name>typename</name>
                        </type>
                        <name>D</name>
                    </parameter>
                        ,
                        <parameter>
                            <type>
                                <name>typename</name>
                            </type>
                            <name>T</name>
                        </parameter>
                        ,
                        <parameter>
                            <type>
                                <name>typename</name>
                            </type>
                            <init>=
                                <expr>
                                    <name>
                                        <name>std</name>
                                        <operator>::</operator>
                                        <name>enable_if_t</name>
                                        <argument_list type="generic">&lt;<argument>
                                            <expr>
                                                <name>
                                                    <name>std</name>
                                                    <operator>::</operator>
                                                    <name>is_arithmetic_v</name>
                                                    <argument_list type="generic">&lt;<argument>
                                                        <expr>
                                                            <name>T</name>
                                                        </expr>
                                                    </argument>&gt;
                                                    </argument_list>
                                                </name>
                                            </expr>
                                        </argument>
                                            ,
                                            <argument>
                                                <expr>
                                                    <name>void</name>
                                                </expr>
                                            </argument>&gt;
                                        </argument_list>
                                    </name>
                                </expr>
                            </init>
                        </parameter>&gt;
                    </parameter_list>
                </template>
                <type>
                    <name>
                        <name>quantity</name>
                        <argument_list type="generic">&lt;<argument>
                            <expr>
                                <name>D</name>
                            </expr>
                        </argument>&gt;
                        </argument_list>
                    </name>
                </type>
                <name>operator
                    <name>*</name>
                </name>
                <parameter_list>(
                    <parameter>
                        <decl>
                            <type>
                                <name>
                                    <name>quantity</name>
                                    <argument_list type="generic">&lt;<argument>
                                        <expr>
                                            <name>D</name>
                                        </expr>
                                    </argument>&gt;
                                    </argument_list>
                                </name>
                            </type>
                            <name>lhs</name>
                        </decl>
                    </parameter>
                    ,
                    <parameter>
                        <decl>
                            <type>
                                <name>T</name>
                            </type>
                            <name>x</name>
                        </decl>
                    </parameter>
                    )
                </parameter_list>
                <block>{
                    <block_content>
                        <expr_stmt>
                            <expr>
                                <name>lhs</name>
                                <operator>*=</operator>
                                <name>x</name>
                            </expr>
                            ;
                        </expr_stmt>
                        <return>return
                            <expr>
                                <name>lhs</name>
                            </expr>
                            ;
                        </return>
                    </block_content>
                    }
                </block>
            </function>

            <function type="operator">
                <template>template
                    <parameter_list>&lt;<parameter>
                        <type>
                            <name>typename</name>
                        </type>
                        <name>D</name>
                    </parameter>
                        ,
                        <parameter>
                            <type>
                                <name>typename</name>
                            </type>
                            <name>T</name>
                        </parameter>
                        ,
                        <parameter>
                            <type>
                                <name>typename</name>
                            </type>
                            <init>=
                                <expr>
                                    <name>
                                        <name>std</name>
                                        <operator>::</operator>
                                        <name>enable_if_t</name>
                                        <argument_list type="generic">&lt;<argument>
                                            <expr>
                                                <name>
                                                    <name>std</name>
                                                    <operator>::</operator>
                                                    <name>is_arithmetic_v</name>
                                                    <argument_list type="generic">&lt;<argument>
                                                        <expr>
                                                            <name>T</name>
                                                        </expr>
                                                    </argument>&gt;
                                                    </argument_list>
                                                </name>
                                            </expr>
                                        </argument>
                                            ,
                                            <argument>
                                                <expr>
                                                    <name>void</name>
                                                </expr>
                                            </argument>&gt;
                                        </argument_list>
                                    </name>
                                </expr>
                            </init>
                        </parameter>&gt;
                    </parameter_list>
                </template>
                <type>
                    <name>
                        <name>quantity</name>
                        <argument_list type="generic">&lt;<argument>
                            <expr>
                                <name>D</name>
                            </expr>
                        </argument>&gt;
                        </argument_list>
                    </name>
                </type>
                <name>operator
                    <name>/</name>
                </name>
                <parameter_list>(
                    <parameter>
                        <decl>
                            <type>
                                <name>
                                    <name>quantity</name>
                                    <argument_list type="generic">&lt;<argument>
                                        <expr>
                                            <name>D</name>
                                        </expr>
                                    </argument>&gt;
                                    </argument_list>
                                </name>
                            </type>
                            <name>lhs</name>
                        </decl>
                    </parameter>
                    ,
                    <parameter>
                        <decl>
                            <type>
                                <name>T</name>
                            </type>
                            <name>x</name>
                        </decl>
                    </parameter>
                    )
                </parameter_list>
                <block>{
                    <block_content>
                        <expr_stmt>
                            <expr>
                                <name>lhs</name>
                                <operator>/=</operator>
                                <name>x</name>
                            </expr>
                            ;
                        </expr_stmt>
                        <return>return
                            <expr>
                                <name>lhs</name>
                            </expr>
                            ;
                        </return>
                    </block_content>
                    }
                </block>
            </function>

            <function type="operator">
                <template>template
                    <parameter_list>&lt;<parameter>
                        <type>
                            <name>typename</name>
                        </type>
                        <name>D</name>
                    </parameter>
                        ,
                        <parameter>
                            <type>
                                <name>typename</name>
                            </type>
                            <name>T</name>
                        </parameter>
                        ,
                        <parameter>
                            <type>
                                <name>typename</name>
                            </type>
                            <init>=
                                <expr>
                                    <name>
                                        <name>std</name>
                                        <operator>::</operator>
                                        <name>enable_if_t</name>
                                        <argument_list type="generic">&lt;<argument>
                                            <expr>
                                                <name>
                                                    <name>std</name>
                                                    <operator>::</operator>
                                                    <name>is_arithmetic_v</name>
                                                    <argument_list type="generic">&lt;<argument>
                                                        <expr>
                                                            <name>T</name>
                                                        </expr>
                                                    </argument>&gt;
                                                    </argument_list>
                                                </name>
                                            </expr>
                                        </argument>
                                            ,
                                            <argument>
                                                <expr>
                                                    <name>void</name>
                                                </expr>
                                            </argument>&gt;
                                        </argument_list>
                                    </name>
                                </expr>
                            </init>
                        </parameter>&gt;
                    </parameter_list>
                </template>
                <type>
                    <name>
                        <name>quantity</name>
                        <argument_list type="generic">&lt;<argument>
                            <expr>
                                <name>D</name>
                            </expr>
                        </argument>&gt;
                        </argument_list>
                    </name>
                </type>
                <name>operator
                    <name>*</name>
                </name>
                <parameter_list>(
                    <parameter>
                        <decl>
                            <type>
                                <name>T</name>
                            </type>
                            <name>x</name>
                        </decl>
                    </parameter>
                    ,
                    <parameter>
                        <decl>
                            <type>
                                <name>
                                    <name>quantity</name>
                                    <argument_list type="generic">&lt;<argument>
                                        <expr>
                                            <name>D</name>
                                        </expr>
                                    </argument>&gt;
                                    </argument_list>
                                </name>
                            </type>
                            <name>rhs</name>
                        </decl>
                    </parameter>
                    )
                </parameter_list>
                <block>{
                    <block_content>
                        <expr_stmt>
                            <expr>
                                <name>rhs</name>
                                <operator>*=</operator>
                                <name>x</name>
                            </expr>
                            ;
                        </expr_stmt>
                        <return>return
                            <expr>
                                <name>rhs</name>
                            </expr>
                            ;
                        </return>
                    </block_content>
                    }
                </block>
            </function>

            <function type="operator">
                <type>
                    <name>meter_t</name>
                </type>
                <name>operator
                    <name>"" _m</name>
                </name>
                <parameter_list>(
                    <parameter>
                        <decl>
                            <type>
                                <name>unsigned</name>
                                <name>long</name>
                                <name>long</name>
                                <name>int</name>
                            </type>
                            <name>value</name>
                        </decl>
                    </parameter>
                    )
                </parameter_list>
                <block>{
                    <block_content>
                        <return>return
                            <expr>
                                <call>
                                    <name>meter_t</name>
                                    <argument_list>(
                                        <argument>
                                            <expr>
                                                <name>value</name>
                                            </expr>
                                        </argument>
                                        )
                                    </argument_list>
                                </call>
                            </expr>
                            ;
                        </return>
                    </block_content>
                    }
                </block>
            </function>

            <function type="operator">
                <type>
                    <name>second_t</name>
                </type>
                <name>operator
                    <name>"" _s</name>
                </name>
                <parameter_list>(
                    <parameter>
                        <decl>
                            <type>
                                <name>unsigned</name>
                                <name>long</name>
                                <name>long</name>
                                <name>int</name>
                            </type>
                            <name>value</name>
                        </decl>
                    </parameter>
                    )
                </parameter_list>
                <block>{
                    <block_content>
                        <return>return
                            <expr>
                                <call>
                                    <name>second_t</name>
                                    <argument_list>(
                                        <argument>
                                            <expr>
                                                <name>value</name>
                                            </expr>
                                        </argument>
                                        )
                                    </argument_list>
                                </call>
                            </expr>
                            ;
                        </return>
                    </block_content>
                    }
                </block>
            </function>

            <function type="operator">
                <type>
                    <name>kilometer_t</name>
                </type>
                <name>operator
                    <name>"" _km</name>
                </name>
                <parameter_list>(
                    <parameter>
                        <decl>
                            <type>
                                <name>unsigned</name>
                                <name>long</name>
                                <name>long</name>
                                <name>int</name>
                            </type>
                            <name>value</name>
                        </decl>
                    </parameter>
                    )
                </parameter_list>
                <block>{
                    <block_content>
                        <return>return
                            <expr>
                                <call>
                                    <name>kilometer_t</name>
                                    <argument_list>(
                                        <argument>
                                            <expr>
                                                <name>value</name>
                                            </expr>
                                        </argument>
                                        )
                                    </argument_list>
                                </call>
                            </expr>
                            ;
                        </return>
                    </block_content>
                    }
                </block>
            </function>

            }
        </block>
    </namespace>
</unit>
